(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3651],{3431:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>p});var a=s(5155),l=s(2115),t=s(1921),n=s(3321),i=s(723),o=s(49),d=s(3210),c=s(1914),m=s(8500),g=s.n(m),u=s(1152);let x=[{value:"CONSUMABLES",label:"Consumables",fields:["material","packing"]},{value:"MOPS_WIPERS",label:"Mops & Wipers",fields:["material","dimensions","color"]},{value:"BROOMS_DUSTPANS",label:"Brooms, Dustpans & Dustbins",fields:["material","dimensions","color"]},{value:"HANDLING_EQUIPMENTS",label:"Handling Equipments",fields:["material","dimensions"]},{value:"UTILITIES",label:"Utilities",fields:["material","dimensions"]},{value:"DISPENSORS",label:"Dispensors",fields:["material","dimensions","color"]},{value:"CARTS_TROLLIES",label:"Carts and Trollies",fields:["material","dimensions","color"]},{value:"MACHINERIES",label:"Machineries",fields:["material","dimensions"]}];function p(){let e=(0,n.useRouter)(),[r,s]=(0,l.useState)(!1),[m,p]=(0,l.useState)({name:"",category:"CONSUMABLES",description:"",image:"",price:"",minOrderQty:"100",sizes:"",packing:"",contents:"",material:"",dimensions:"",color:"",isActive:!0,priority:"0"}),[b,h]=(0,l.useState)([""]),[f,y]=(0,l.useState)([""]),j=x.find(e=>e.value===m.category),N=j?.fields||[],v=async r=>{r.preventDefault(),s(!0);try{let r={...m,sizes:b.filter(Boolean).length>0?JSON.stringify(b.filter(Boolean)):null,contents:f.filter(Boolean).length>0?JSON.stringify(f.filter(Boolean)):null},s=await fetch("/api/admin/hotel-catalogue",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(s.ok)e.push("/admin/hotel-catalogue");else{let e=await s.json();alert(e.error||"Failed to create amenity")}}catch(e){console.error("Error creating amenity:",e),alert("Failed to create amenity")}finally{s(!1)}},C=e=>{let{name:r,value:s,type:a}=e.target;if("checkbox"===a){let s=e.target.checked;p(e=>({...e,[r]:s}))}else p(e=>({...e,[r]:s}))};return(0,a.jsx)(t.default,{children:(0,a.jsxs)("div",{className:"max-w-4xl space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)(g(),{href:"/admin/hotel-catalogue",className:"p-2 bg-black text-white rounded-lg transition-colors",children:(0,a.jsx)(i.A,{className:"w-5 h-5"})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[(0,a.jsx)(o.A,{className:"w-8 h-8 text-green-700"}),"Add New Amenity"]}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Add a new hotel amenity to your catalogue"})]})]}),(0,a.jsxs)("form",{onSubmit:v,className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-8 space-y-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Basic Information"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"md:col-span-2",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Product Name *"}),(0,a.jsx)("input",{type:"text",name:"name",value:m.name,onChange:C,required:!0,placeholder:"e.g., Luxury Shampoo",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category *"}),(0,a.jsx)("select",{name:"category",value:m.category,onChange:C,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",children:x.map(e=>(0,a.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority (Higher = First)"}),(0,a.jsx)("input",{type:"number",name:"priority",value:m.priority,onChange:C,min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),(0,a.jsxs)("div",{className:"md:col-span-2",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,a.jsx)("textarea",{name:"description",value:m.description,onChange:C,rows:3,placeholder:"Describe the product features, benefits, etc.",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Product Image"}),(0,a.jsx)(u.A,{label:"Upload Product Image *",value:m.image,onChange:e=>p(r=>({...r,image:e})),type:"image"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Pricing"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price per Unit (â‚¹) *"}),(0,a.jsx)("input",{type:"number",name:"price",value:m.price,onChange:C,required:!0,step:"0.01",min:"0",placeholder:"e.g., 10.00",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Minimum Order Quantity"}),(0,a.jsx)("input",{type:"number",name:"minOrderQty",value:m.minOrderQty,onChange:C,min:"1",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Product Details"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[N.includes("sizes")&&(0,a.jsxs)("div",{className:"md:col-span-2",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Available Sizes"}),(0,a.jsxs)("div",{className:"space-y-2",children:[b.map((e,r)=>(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("input",{type:"text",value:e,onChange:e=>{var s;let a;return s=e.target.value,void((a=[...b])[r]=s,h(a))},placeholder:"e.g., 30ml, 50ml, 100ml",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"}),b.length>1&&(0,a.jsx)("button",{type:"button",onClick:()=>h(b.filter((e,s)=>s!==r)),className:"p-2 text-red-500 hover:bg-red-50 rounded-lg",children:(0,a.jsx)(d.A,{className:"w-5 h-5"})})]},r)),(0,a.jsxs)("button",{type:"button",onClick:()=>h([...b,""]),className:"flex items-center gap-1 text-sm text-purple-600 hover:text-green-700",children:[(0,a.jsx)(c.A,{className:"w-4 h-4"}),"Add Size"]})]})]}),N.includes("packing")&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Packing"}),(0,a.jsx)("input",{type:"text",name:"packing",value:m.packing,onChange:C,placeholder:"e.g., Box of 100",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),N.includes("contents")&&(0,a.jsxs)("div",{className:"md:col-span-2",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Kit Contents"}),(0,a.jsxs)("div",{className:"space-y-2",children:[f.map((e,r)=>(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("input",{type:"text",value:e,onChange:e=>{var s;let a;return s=e.target.value,void((a=[...f])[r]=s,y(a))},placeholder:"e.g., Toothbrush, Toothpaste (10g)",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"}),f.length>1&&(0,a.jsx)("button",{type:"button",onClick:()=>y(f.filter((e,s)=>s!==r)),className:"p-2 text-red-500 hover:bg-red-50 rounded-lg",children:(0,a.jsx)(d.A,{className:"w-5 h-5"})})]},r)),(0,a.jsxs)("button",{type:"button",onClick:()=>y([...f,""]),className:"flex items-center gap-1 text-sm text-purple-600 hover:text-green-700",children:[(0,a.jsx)(c.A,{className:"w-4 h-4"}),"Add Item"]})]})]}),N.includes("material")&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Material"}),(0,a.jsx)("input",{type:"text",name:"material",value:m.material,onChange:C,placeholder:"e.g., Non-woven fabric",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),N.includes("color")&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Available Colors"}),(0,a.jsx)("input",{type:"text",name:"color",value:m.color,onChange:C,placeholder:"e.g., White, Brown, Grey",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),N.includes("dimensions")&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Dimensions / Sizes"}),(0,a.jsx)("input",{type:"text",name:"dimensions",value:m.dimensions,onChange:C,placeholder:"e.g., Small, Medium, Large or 40x30cm",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]})]})]}),(0,a.jsx)("div",{children:(0,a.jsxs)("label",{className:"flex items-center gap-2",children:[(0,a.jsx)("input",{type:"checkbox",name:"isActive",checked:m.isActive,onChange:C,className:"w-4 h-4 text-purple-600 border-gray-300 rounded focus:ring-green-500"}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Active (visible in catalogue)"})]})}),(0,a.jsxs)("div",{className:"flex items-center justify-end gap-4 pt-4 border-t border-gray-200",children:[(0,a.jsx)(g(),{href:"/admin/hotel-catalogue",className:"px-6 py-2 bg-gray-100 text-gray-700 rounded-lg font-medium hover:bg-gray-200 transition-colors",children:"Cancel"}),(0,a.jsx)("button",{type:"submit",disabled:r,className:"px-6 py-2 bg-green-700 text-white rounded-lg font-medium hover:bg-green-800 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:r?"Creating...":"Create Amenity"})]})]})]})})}},3881:(e,r,s)=>{Promise.resolve().then(s.bind(s,3431))}},e=>{e.O(0,[8500,1921,7052,8441,3794,7358],()=>e(e.s=3881)),_N_E=e.O()}]);