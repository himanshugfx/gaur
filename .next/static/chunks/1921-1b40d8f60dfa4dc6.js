"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1921],{1921:(e,s,t)=>{t.d(s,{default:()=>A});var a=t(5155),r=t(2115),l=t(8500),n=t.n(l),i=t(3321),o=t(8401),d=t(49),c=t(2508),x=t(2564),h=t(2289),m=t(6088),g=t(1362),u=t(3210),p=t(1303),f=t(1437);let b=[{name:"Dashboard",href:"/admin",icon:o.A},{name:"Hotel Catalogue",href:"/admin/hotel-catalogue",icon:d.A},{name:"Sales Funnel",href:"/admin/funnel",icon:c.A},{name:"WhatsApp",href:"/admin/whatsapp",icon:x.A},{name:"Inquiries",href:"/admin/inquiries",icon:h.A}],j=({item:e,isCollapsed:s,pathname:t,onClose:r,expandedMenus:l,toggleMenu:i})=>{let o=e.icon,d=e.children&&e.children.length>0,c=l.includes(e.name),x=t===e.href||"/admin"!==e.href&&t.startsWith(e.href),h=d&&e.children?.some(e=>t.startsWith(e.href));return d?(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("button",{onClick:()=>i(e.name),title:s?e.name:void 0,className:`w-full flex items-center ${s?"justify-center":"justify-between"} px-4 py-3 rounded-xl transition-all duration-200 group ${x||h?"bg-green-800/20 text-emerald-400":"text-gray-400 hover:text-white"}`,children:[(0,a.jsxs)("div",{className:`flex items-center ${!s&&"gap-3"}`,children:[(0,a.jsx)(o,{className:`w-5 h-5 ${x||h?"text-emerald-400":"text-gray-400 group-hover:text-white"}`}),!s&&(0,a.jsx)("span",{className:"font-medium",children:e.name})]}),!s&&(0,a.jsx)(m.A,{className:`w-4 h-4 transition-transform ${c?"rotate-180":""}`})]}),s&&c&&(0,a.jsx)("div",{className:"fixed ml-2 z-[100] animate-in fade-in slide-in-from-left-2 duration-200",style:{left:"80px",top:"auto"},children:(0,a.jsxs)("div",{className:"bg-[#1a1c23] border border-gray-700 rounded-xl shadow-2xl py-2 min-w-[180px]",children:[(0,a.jsx)("div",{className:"px-4 py-2 text-xs font-bold text-gray-500 uppercase tracking-wider border-b border-gray-700 mb-1",children:e.name}),e.children?.map(s=>{let l=s.icon,o=t===s.href||t.startsWith(s.href);return(0,a.jsxs)(n(),{href:s.href,onClick:()=>{i(e.name),window.innerWidth<1024&&r()},className:`flex items-center gap-3 px-4 py-2.5 transition-all duration-200 ${o?"bg-green-800 text-white":"text-gray-400 hover:text-white hover:bg-gray-800"}`,children:[(0,a.jsx)(l,{className:"w-4 h-4"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:s.name})]},s.name)})]})}),!s&&c&&(0,a.jsx)("div",{className:"ml-6 mt-1 space-y-1",children:e.children?.map(e=>{let s=e.icon,l=t===e.href||t.startsWith(e.href);return(0,a.jsxs)(n(),{href:e.href,onClick:()=>window.innerWidth<1024&&r(),className:`flex items-center gap-3 px-4 py-2 rounded-lg transition-all duration-200 ${l?"bg-green-800 text-white shadow-lg shadow-green-500/20":"text-gray-400 hover:text-white hover:bg-gray-800"}`,children:[(0,a.jsx)(s,{className:"w-4 h-4"}),(0,a.jsx)("span",{className:"text-sm",children:e.name})]},e.name)})})]}):(0,a.jsxs)(n(),{href:e.href,onClick:()=>window.innerWidth<1024&&r(),title:s?e.name:void 0,className:`flex items-center ${s?"justify-center":"justify-between"} px-4 py-3 rounded-xl transition-all duration-200 group ${x?"bg-green-800 text-white shadow-lg shadow-green-500/20":"text-gray-400 hover:text-white"}`,children:[(0,a.jsxs)("div",{className:`flex items-center ${!s&&"gap-3"}`,children:[(0,a.jsx)(o,{className:`w-5 h-5 ${x?"text-white":"text-gray-400 group-hover:text-white"}`}),!s&&(0,a.jsx)("span",{className:"font-medium",children:e.name})]}),!s&&x&&(0,a.jsx)(g.A,{className:"w-4 h-4 opacity-75"})]})},w=({isCollapsed:e,onClose:s,onToggleCollapse:t,pathname:r,expandedMenus:l,toggleMenu:n})=>(0,a.jsxs)("div",{className:"flex flex-col h-full bg-[#1a1c23] text-white",children:[(0,a.jsxs)("div",{className:`h-20 flex items-center ${e?"justify-center":"px-6"} border-b border-gray-800`,children:[(0,a.jsx)("div",{className:"flex items-center gap-3",children:(0,a.jsx)("div",{className:"w-10 h-10 rounded-xl overflow-hidden flex-shrink-0 group",children:(0,a.jsx)("img",{src:"/logo.png",alt:"Harbigreen",className:"w-full h-full object-contain"})})}),(0,a.jsx)("button",{type:"button",onClick:s,className:"lg:hidden ml-auto p-2 text-gray-400 hover:text-white rounded-lg hover:bg-white/5 transition-colors","aria-label":"Close menu",children:(0,a.jsx)(u.A,{className:"w-6 h-6"})})]}),(0,a.jsx)("div",{className:"flex-1 py-6 overflow-y-auto custom-scrollbar",children:(0,a.jsx)("nav",{className:`space-y-1 ${e?"px-2":"px-4"}`,children:b.map(t=>(0,a.jsx)(j,{item:t,isCollapsed:e,pathname:r,onClose:s,expandedMenus:l,toggleMenu:n},t.name))})}),(0,a.jsxs)("div",{className:"p-4 border-t border-gray-800 space-y-2",children:[(0,a.jsxs)("button",{type:"button",onClick:s,className:"lg:hidden flex items-center justify-center gap-2 w-full p-3 text-gray-400 hover:text-white rounded-xl hover:bg-white/5 transition-colors group",children:[(0,a.jsx)(p.A,{className:"w-5 h-5 group-hover:-translate-x-0.5 transition-transform"}),(0,a.jsx)("span",{className:"font-medium",children:"Close Sidebar"})]}),(0,a.jsx)("button",{type:"button",onClick:t,className:"hidden lg:flex items-center justify-center w-full p-2 text-gray-500 hover:text-white rounded-lg transition-colors",title:e?"Expand Sidebar":"Collapse Sidebar",children:e?(0,a.jsx)(f.A,{className:"w-5 h-5"}):(0,a.jsx)(p.A,{className:"w-5 h-5"})})]})]});function y({isOpen:e,onClose:s,isCollapsed:t,onToggleCollapse:l}){let n=(0,i.usePathname)(),[o,d]=(0,r.useState)([]),c=e=>{d(s=>s.includes(e)?s.filter(s=>s!==e):[...s,e])};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"fixed inset-y-0 left-0 z-50 w-72 bg-[#1a1c23] transition-transform duration-300 ease-in-out lg:hidden max-h-screen overflow-hidden",style:{transform:e?"translateX(0)":"translateX(-100%)",visibility:e?"visible":"hidden"},children:(0,a.jsx)(w,{isCollapsed:!1,onClose:s,onToggleCollapse:l,pathname:n,expandedMenus:o,toggleMenu:c})}),(0,a.jsx)("div",{className:`hidden lg:flex lg:flex-col sticky top-0 h-screen z-30 transition-all duration-300 border-r border-gray-800 flex-shrink-0 ${t?"lg:w-20":"lg:w-72"}`,children:(0,a.jsx)(w,{isCollapsed:t,onClose:s,onToggleCollapse:l,pathname:n,expandedMenus:o,toggleMenu:c})})]})}var N=t(9857),v=t(9363),k=t(1313);function C({onMenuClick:e}){let[s,t]=(0,r.useState)(!1),l=(0,i.useRouter)(),n=async()=>{try{(await fetch("/api/admin/logout",{method:"POST"})).ok&&(l.push("/admin/login"),l.refresh())}catch(e){console.error("Logout error:",e)}};return(0,a.jsx)("header",{className:"sticky top-0 z-30 bg-white/80 backdrop-blur-md border-b border-gray-100/50",children:(0,a.jsxs)("div",{className:"flex items-center justify-between h-16 lg:h-20 px-4 sm:px-8 lg:px-12 xl:px-16",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("button",{onClick:e,className:"lg:hidden text-gray-700 p-2.5 -ml-2 rounded-xl transition-colors active:bg-gray-100","aria-label":"Open menu",children:(0,a.jsx)(N.A,{className:"w-6 h-6"})}),(0,a.jsxs)("div",{className:"hidden lg:block",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900 leading-tight",children:"Welcome back, Admin! \uD83D\uDC4B"}),(0,a.jsx)("p",{className:"text-xs text-gray-500 font-medium mt-0.5",children:"Managing Harbigreen Admin Panel"})]}),(0,a.jsx)("div",{className:"lg:hidden",children:(0,a.jsx)("h2",{className:"text-base font-bold text-gray-900",children:"Harbigreen"})})]}),(0,a.jsx)("div",{className:"flex items-center gap-4 ml-auto",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("button",{onClick:()=>t(!s),className:"flex items-center gap-3 p-1 sm:p-2 rounded-2xl hover:bg-gray-50 transition-all border border-transparent group",children:[(0,a.jsxs)("div",{className:"hidden sm:block text-right mr-1",children:[(0,a.jsx)("p",{className:"font-bold text-gray-900 text-sm leading-tight",children:"Admin User"}),(0,a.jsx)("p",{className:"text-[10px] text-emerald-600 font-black uppercase tracking-widest mt-0.5",children:"Online"})]}),(0,a.jsx)("div",{className:"w-10 h-10 bg-green-800 rounded-xl flex items-center justify-center shadow-lg shadow-green-500/20 group-hover:scale-105 transition-transform",children:(0,a.jsx)("span",{className:"text-white font-bold text-lg",children:"A"})})]}),s&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"fixed inset-0 z-10",onClick:()=>t(!1)}),(0,a.jsxs)("div",{className:"absolute right-0 z-20 mt-3 w-64 bg-white rounded-2xl shadow-xl shadow-gray-200/50 border border-gray-100 py-2 overflow-hidden transform origin-top-right transition-all animate-in fade-in zoom-in-95 duration-200",children:[(0,a.jsxs)("div",{className:"px-5 py-4 border-b border-gray-100 bg-gray-50/50",children:[(0,a.jsx)("p",{className:"text-sm font-bold text-gray-900",children:"Admin User"}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"admin@harbigreen.com"})]}),(0,a.jsxs)("div",{className:"p-2 space-y-1",children:[(0,a.jsxs)("button",{onClick:()=>{window.location.href="/admin/profile",t(!1)},className:"flex items-center w-full px-3 py-2.5 text-sm font-medium text-gray-700 rounded-xl hover:bg-gray-50 transition-colors gap-3 group",children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-lg bg-gray-100 group-hover:bg-emerald-100 text-gray-400 group-hover:text-emerald-600 flex items-center justify-center transition-colors",children:(0,a.jsx)(v.A,{className:"w-4 h-4"})}),"Security Settings"]}),(0,a.jsxs)("button",{onClick:n,className:"flex items-center w-full px-3 py-2.5 text-sm font-medium text-red-600 rounded-xl hover:bg-red-50 transition-colors gap-3 group",children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-lg bg-black text-white flex items-center justify-center transition-colors",children:(0,a.jsx)(k.A,{className:"w-4 h-4"})}),"Sign out"]})]})]})]})]})})]})})}function A({children:e}){let[s,t]=(0,r.useState)(!1),[l,n]=(0,r.useState)(()=>{try{let e=localStorage.getItem("adminSidebarCollapsed");if(e)return JSON.parse(e)}catch(e){console.error("Error reading from localStorage:",e)}return!1});return(0,a.jsxs)("div",{className:"flex min-h-screen bg-[#f8f9fc]",children:[(0,a.jsx)(y,{isOpen:s,onClose:()=>t(!1),isCollapsed:l,onToggleCollapse:()=>{let e=!l;n(e);try{localStorage.setItem("adminSidebarCollapsed",JSON.stringify(e))}catch(e){console.error("Error saving to localStorage:",e)}}}),(0,a.jsxs)("div",{className:"flex-1 flex flex-col min-w-0 transition-all duration-300",children:[(0,a.jsx)(C,{onMenuClick:()=>t(!s)}),(0,a.jsx)("main",{className:"flex-1 py-6 sm:py-10 px-4 sm:px-8 lg:px-12 xl:px-16 max-w-full overflow-x-hidden",children:(0,a.jsx)("div",{className:"max-w-[1440px] mx-auto w-full",children:e})})]}),s&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-40 lg:hidden",onClick:()=>t(!1)})]})}}}]);