module.exports=[23862,a=>a.a(async(b,c)=>{try{let b=await a.y("pg-587764f78a6c7a9c");a.n(b),c()}catch(a){c(a)}},!0),63021,(a,b,c)=>{b.exports=a.x("@prisma/client-2c3a283f134fdcb6",()=>require("@prisma/client-2c3a283f134fdcb6"))},93695,(a,b,c)=>{b.exports=a.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},50645,a=>{a.n(a.i(27572))},43619,a=>{a.n(a.i(79962))},13718,a=>{a.n(a.i(85523))},18198,a=>{a.n(a.i(45518))},62212,a=>{a.n(a.i(66114))},37691,a=>{"use strict";a.s(["default",()=>b]);let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call the default export of [project]/src/components/admin/AdminLayout.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/components/admin/AdminLayout.tsx <module evaluation>","default")},7453,a=>{"use strict";a.s(["default",()=>b]);let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call the default export of [project]/src/components/admin/AdminLayout.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/components/admin/AdminLayout.tsx","default")},97541,a=>{"use strict";a.i(37691);var b=a.i(7453);a.n(b)},13743,a=>{"use strict";let b=(0,a.i(1269).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);a.s(["ArrowLeft",()=>b],13743)},46840,a=>{"use strict";let b=(0,a.i(1269).default)("building-2",[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]]);a.s(["Building2",()=>b],46840)},84254,a=>{"use strict";let b=(0,a.i(1269).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);a.s(["Plus",()=>b],84254)},72030,a=>{"use strict";let b=(0,a.i(1269).default)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);a.s(["ChevronRight",()=>b],72030)},40905,a=>{"use strict";let b=(0,a.i(1269).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);a.s(["Search",()=>b],40905)},22041,a=>{"use strict";let b=(0,a.i(1269).default)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]);a.s(["Filter",()=>b],22041)},84367,a=>a.a(async(b,c)=>{try{var d=a.i(7997),e=a.i(97541),f=a.i(13743),g=a.i(40905),h=a.i(22041),i=a.i(84254),j=a.i(72030),k=a.i(28783),l=a.i(71191),m=a.i(46840),n=a.i(95936),o=a.i(66518),p=b([o]);async function q(){try{return await o.prisma.lead.findMany({orderBy:{createdAt:"desc"},include:{stage:!0}})}catch(a){return console.error("Error fetching leads:",a),[]}}async function r(){try{return await o.prisma.funnelStage.findMany({orderBy:{order:"asc"}})}catch(a){return console.error("Error fetching stages:",a),[]}}async function s(){let[a,b]=await Promise.all([q(),r()]);return console.log(`[LeadsListPage] Rendering with ${a.length} leads and ${b.length} stages`),a.length>0&&console.log("[LeadsListPage] First lead stage:",a[0].stage?.name||"MISSING"),(0,d.jsx)(e.default,{children:(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,d.jsxs)("div",{className:"flex items-center gap-4",children:[(0,d.jsx)(n.default,{href:"/admin/funnel",className:"p-2 text-gray-500 hover:text-gray-700 rounded-lg hover:bg-gray-100",children:(0,d.jsx)(f.ArrowLeft,{className:"w-5 h-5"})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"All Leads"}),(0,d.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:[a.length," total leads"]})]})]}),(0,d.jsxs)(n.default,{href:"/admin/funnel/leads/add",className:"flex items-center gap-2 px-4 py-2 text-sm font-semibold text-white bg-purple-600 rounded-xl hover:bg-purple-700",children:[(0,d.jsx)(i.Plus,{className:"w-4 h-4"}),"Add Lead"]})]}),(0,d.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,d.jsxs)("div",{className:"relative flex-1",children:[(0,d.jsx)(g.Search,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,d.jsx)("input",{type:"text",placeholder:"Search leads...",className:"w-full pl-12 pr-4 py-3 bg-white border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),(0,d.jsxs)("select",{className:"px-4 py-3 bg-white border border-gray-200 rounded-xl text-gray-700 focus:outline-none focus:ring-2 focus:ring-purple-500",children:[(0,d.jsx)("option",{value:"",children:"All Stages"}),b.map(a=>(0,d.jsx)("option",{value:a.id,children:a.name},a.id))]}),(0,d.jsxs)("button",{className:"flex items-center justify-center gap-2 px-4 py-3 bg-white border border-gray-200 rounded-xl text-gray-700 font-medium hover:bg-gray-50",children:[(0,d.jsx)(h.Filter,{className:"w-4 h-4"}),(0,d.jsx)("span",{children:"More"})]})]}),(0,d.jsxs)("div",{className:"bg-white rounded-2xl border border-gray-100 overflow-hidden",children:[(0,d.jsx)("div",{className:"md:hidden divide-y divide-gray-100",children:0===a.length?(0,d.jsxs)("div",{className:"p-8 text-center",children:[(0,d.jsx)("p",{className:"text-gray-900 font-medium",children:"No leads yet"}),(0,d.jsx)("p",{className:"text-gray-500 text-sm mt-1",children:"Add your first lead to get started"})]}):a.map(a=>(0,d.jsx)(n.default,{href:`/admin/funnel/leads/${a.id}`,className:"block p-4 active:bg-gray-50",children:(0,d.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,d.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,d.jsx)("span",{className:"font-semibold text-gray-900",children:a.name}),a.stage&&(0,d.jsx)("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full",style:{backgroundColor:`${a.stage.color}20`,color:a.stage.color},children:a.stage.name})]}),a.company&&(0,d.jsxs)("p",{className:"text-sm text-gray-600 flex items-center gap-1",children:[(0,d.jsx)(m.Building2,{className:"w-3 h-3"})," ",a.company]}),(0,d.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:a.email})]}),(0,d.jsxs)("div",{className:"text-right flex-shrink-0",children:[a.value&&(0,d.jsxs)("p",{className:"font-bold text-gray-900",children:["₹",a.value.toLocaleString()]}),(0,d.jsx)(j.ChevronRight,{className:"w-5 h-5 text-gray-400 ml-auto mt-1"})]})]})},a.id))}),(0,d.jsx)("div",{className:"hidden md:block overflow-x-auto",children:(0,d.jsxs)("table",{className:"w-full",children:[(0,d.jsx)("thead",{children:(0,d.jsxs)("tr",{className:"bg-gray-50/50 border-b border-gray-100",children:[(0,d.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase",children:"Lead"}),(0,d.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase",children:"Contact"}),(0,d.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase",children:"Stage"}),(0,d.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase",children:"Value"}),(0,d.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase",children:"Source"}),(0,d.jsx)("th",{className:"px-6 py-4 text-right text-xs font-semibold text-gray-500 uppercase",children:"Action"})]})}),(0,d.jsx)("tbody",{className:"divide-y divide-gray-100",children:0===a.length?(0,d.jsx)("tr",{children:(0,d.jsxs)("td",{colSpan:6,className:"px-6 py-12 text-center",children:[(0,d.jsx)("p",{className:"text-gray-900 font-medium",children:"No leads yet"}),(0,d.jsx)("p",{className:"text-gray-500 text-sm mt-1",children:"Add your first lead to get started"})]})}):a.map(a=>(0,d.jsxs)("tr",{className:"group hover:bg-gray-50/50",children:[(0,d.jsx)("td",{className:"px-6 py-4",children:(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"font-medium text-gray-900",children:a.name}),a.company&&(0,d.jsxs)("p",{className:"text-sm text-gray-500 flex items-center gap-1",children:[(0,d.jsx)(m.Building2,{className:"w-3 h-3"})," ",a.company]})]})}),(0,d.jsx)("td",{className:"px-6 py-4",children:(0,d.jsxs)("div",{className:"space-y-1",children:[(0,d.jsxs)("p",{className:"text-sm text-gray-600 flex items-center gap-1",children:[(0,d.jsx)(k.Mail,{className:"w-3 h-3"})," ",a.email]}),a.phone&&(0,d.jsxs)("p",{className:"text-sm text-gray-600 flex items-center gap-1",children:[(0,d.jsx)(l.Phone,{className:"w-3 h-3"})," ",a.phone]})]})}),(0,d.jsx)("td",{className:"px-6 py-4",children:a.stage?(0,d.jsx)("span",{className:"px-2.5 py-1 text-xs font-semibold rounded-full",style:{backgroundColor:`${a.stage.color}20`,color:a.stage.color},children:a.stage.name}):(0,d.jsx)("span",{className:"px-2.5 py-1 text-xs font-semibold rounded-full bg-gray-100 text-gray-500",children:"No Stage"})}),(0,d.jsx)("td",{className:"px-6 py-4",children:a.value?(0,d.jsxs)("span",{className:"font-bold text-gray-900",children:["₹",a.value.toLocaleString()]}):(0,d.jsx)("span",{className:"text-gray-400",children:"-"})}),(0,d.jsx)("td",{className:"px-6 py-4",children:(0,d.jsx)("span",{className:"text-sm text-gray-600",children:a.source})}),(0,d.jsx)("td",{className:"px-6 py-4 text-right",children:(0,d.jsx)(n.default,{href:`/admin/funnel/leads/${a.id}`,className:"inline-flex items-center justify-center w-8 h-8 text-white bg-black rounded-lg hover:bg-black",children:(0,d.jsx)(j.ChevronRight,{className:"w-4 h-4"})})})]},a.id))})]})})]})]})})}[o]=p.then?(await p)():p,a.s(["default",()=>s,"dynamic",0,"force-dynamic"]),c()}catch(a){c(a)}},!1)];

//# sourceMappingURL=%5Broot-of-the-server%5D__ce8d4b11._.js.map