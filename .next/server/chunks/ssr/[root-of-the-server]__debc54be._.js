module.exports=[56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},36313,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HooksClientContext},79861,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ServerInsertedHtml},92258,70106,a=>{"use strict";var b=a.i(72131);let c=a=>{let b=a.replace(/^([A-Z])|[\s-_]+(\w)/g,(a,b,c)=>c?c.toUpperCase():b.toLowerCase());return b.charAt(0).toUpperCase()+b.slice(1)},d=(...a)=>a.filter((a,b,c)=>!!a&&""!==a.trim()&&c.indexOf(a)===b).join(" ").trim();var e={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let f=(0,b.forwardRef)(({color:a="currentColor",size:c=24,strokeWidth:f=2,absoluteStrokeWidth:g,className:h="",children:i,iconNode:j,...k},l)=>(0,b.createElement)("svg",{ref:l,...e,width:c,height:c,stroke:a,strokeWidth:g?24*Number(f)/Number(c):f,className:d("lucide",h),...!i&&!(a=>{for(let b in a)if(b.startsWith("aria-")||"role"===b||"title"===b)return!0})(k)&&{"aria-hidden":"true"},...k},[...j.map(([a,c])=>(0,b.createElement)(a,c)),...Array.isArray(i)?i:[i]])),g=(a,e)=>{let g=(0,b.forwardRef)(({className:g,...h},i)=>(0,b.createElement)(f,{ref:i,iconNode:e,className:d(`lucide-${c(a).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${a}`,g),...h}));return g.displayName=c(a),g};a.s(["default",()=>g],70106);let h=g("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]);a.s(["Mail",()=>h],92258)},96221,a=>{"use strict";let b=(0,a.i(70106).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["Loader2",()=>b],96221)},210,a=>{"use strict";let b=(0,a.i(70106).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);a.s(["ArrowLeft",()=>b],210)},15618,a=>{"use strict";let b=(0,a.i(70106).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);a.s(["Plus",()=>b],15618)},92e3,a=>{"use strict";let b=(0,a.i(70106).default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);a.s(["AlertCircle",()=>b],92e3)},89445,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(15618),e=a.i(33508),f=a.i(96221),g=a.i(92e3);function h({value:a,onChange:h,type:i="image",label:j,className:k=""}){let[l,m]=(0,c.useState)(!1),[n,o]=(0,c.useState)(""),p=(0,c.useRef)(null),q="video"===i?5242880:2097152,r=q/1048576,s=async a=>{let b=a.target.files?.[0];if(!b)return;if(o(""),b.size>q)return void o(`File too large. Maximum ${r}MB allowed.`);m(!0);let c=new FormData;c.append("file",b);try{let a=await fetch("/api/admin/media",{method:"POST",body:c}),b=await a.json();if(!a.ok)throw Error(b.error||"Upload failed");h(b.id)}catch(a){console.error("Upload error:",a),o(a.message||"Upload failed")}finally{m(!1),p.current&&(p.current.value="")}},t=a?`/api/media/${a}`:"";return(0,b.jsxs)("div",{className:`space-y-2 ${k}`,children:[j&&(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:j}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"relative w-24 h-24 rounded-xl overflow-hidden border-2 border-dashed border-gray-200 bg-gray-50 flex items-center justify-center",children:l?(0,b.jsx)(f.Loader2,{className:"w-6 h-6 animate-spin text-purple-600"}):a?(0,b.jsxs)(b.Fragment,{children:["video"===i?(0,b.jsx)("video",{src:t,className:"w-full h-full object-cover",muted:!0,loop:!0,autoPlay:!0,playsInline:!0}):(0,b.jsx)("img",{src:t,alt:"Preview",className:"w-full h-full object-cover"}),(0,b.jsx)("button",{type:"button",onClick:()=>{h(""),o("")},className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 hover:bg-red-600",children:(0,b.jsx)(e.X,{className:"w-3 h-3"})})]}):(0,b.jsx)(d.Plus,{className:"w-6 h-6 text-gray-400"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("input",{ref:p,type:"file",accept:"video"===i?"video/*":"image"===i?"image/*":"image/*,video/*",onChange:s,disabled:l,className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-xl file:border-0 file:text-sm file:font-semibold file:bg-black file:text-white hover:file:bg-gray-800 disabled:opacity-50 disabled:cursor-not-allowed"}),(0,b.jsxs)("p",{className:"text-xs text-gray-400 mt-1",children:["Max size: ",r,"MB • ","video"===i?"MP4, WebM":"JPG, PNG, WebP"]})]})]}),n&&(0,b.jsxs)("div",{className:"flex items-center gap-2 text-red-500 text-sm",children:[(0,b.jsx)(g.AlertCircle,{className:"w-4 h-4"}),n]})]})}a.s(["default",()=>h])},75166,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(97292),e=a.i(50944),f=a.i(210),g=a.i(15618),h=a.i(33508),i=a.i(67900),j=a.i(96221),k=a.i(38246),l=a.i(89445);let m=[{value:"COSMETIC",label:"Cosmetics",fields:["sizes","packing"]},{value:"DENTAL_KIT",label:"Dental Kit",fields:["contents","packing"]},{value:"SHAVING_KIT",label:"Shaving Kit",fields:["contents","packing"]},{value:"VANITY_KIT",label:"Vanity Kit",fields:["contents","packing"]},{value:"SLIPPER",label:"Slipper",fields:["material","color","dimensions"]},{value:"COASTER",label:"Coaster",fields:["material","color","dimensions"]},{value:"LAUNDRY_BAG",label:"Laundry Bag",fields:["material","color","dimensions"]},{value:"GARBAGE_BAG",label:"Garbage Bag",fields:["material","color","dimensions"]},{value:"SHOWER_CAP",label:"Shower Cap",fields:["material","color"]},{value:"COMB",label:"Comb",fields:["material","color","dimensions"]},{value:"OTHER",label:"Other",fields:["material","dimensions"]}];function n({params:a}){let{id:n}=(0,c.use)(a),o=(0,e.useRouter)(),[p,q]=(0,c.useState)(!0),[r,s]=(0,c.useState)(!1),[t,u]=(0,c.useState)({name:"",category:"COSMETIC",description:"",image:"",price:"",minOrderQty:"100",sizes:"",packing:"",contents:"",material:"",dimensions:"",color:"",isActive:!0,priority:"0"}),[v,w]=(0,c.useState)([""]),[x,y]=(0,c.useState)([""]),z=m.find(a=>a.value===t.category),A=z?.fields||[];(0,c.useEffect)(()=>{B()},[n]);let B=async()=>{try{let a=await fetch(`/api/admin/hotel-catalogue/${n}`);if(!a.ok)throw Error("Amenity not found");let b=await a.json();if(u({name:b.name||"",category:b.category||"COSMETIC",description:b.description||"",image:b.image||"",price:b.price?.toString()||"",minOrderQty:b.minOrderQty?.toString()||"100",sizes:b.sizes||"",packing:b.packing||"",contents:b.contents||"",material:b.material||"",dimensions:b.dimensions||"",color:b.color||"",isActive:!1!==b.isActive,priority:b.priority?.toString()||"0"}),b.sizes)try{let a=JSON.parse(b.sizes);w(Array.isArray(a)?a:[a])}catch{w([b.sizes])}if(b.contents)try{let a=JSON.parse(b.contents);y(Array.isArray(a)?a:[a])}catch{y([b.contents])}}catch(a){console.error("Error fetching amenity:",a),alert("Failed to load amenity"),o.push("/admin/hotel-catalogue")}finally{q(!1)}},C=async a=>{a.preventDefault(),s(!0);try{let a={...t,sizes:v.filter(Boolean).length>0?JSON.stringify(v.filter(Boolean)):null,contents:x.filter(Boolean).length>0?JSON.stringify(x.filter(Boolean)):null},b=await fetch(`/api/admin/hotel-catalogue/${n}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(b.ok)o.push("/admin/hotel-catalogue");else{let a=await b.json();alert(a.error||"Failed to update amenity")}}catch(a){console.error("Error updating amenity:",a),alert("Failed to update amenity")}finally{s(!1)}},D=a=>{let{name:b,value:c,type:d}=a.target;if("checkbox"===d){let c=a.target.checked;u(a=>({...a,[b]:c}))}else u(a=>({...a,[b]:c}))};return p?(0,b.jsx)(d.default,{children:(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center py-20",children:[(0,b.jsx)(j.Loader2,{className:"w-8 h-8 text-purple-600 animate-spin"}),(0,b.jsx)("p",{className:"text-gray-500 mt-3",children:"Loading amenity..."})]})}):(0,b.jsx)(d.default,{children:(0,b.jsxs)("div",{className:"max-w-4xl space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)(k.default,{href:"/admin/hotel-catalogue",className:"p-2 bg-black text-white rounded-lg transition-colors",children:(0,b.jsx)(f.ArrowLeft,{className:"w-5 h-5"})}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[(0,b.jsx)(i.Building2,{className:"w-8 h-8 text-purple-600"}),"Edit Amenity"]}),(0,b.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Update hotel amenity details"})]})]}),(0,b.jsxs)("form",{onSubmit:C,className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-8 space-y-8",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Basic Information"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{className:"md:col-span-2",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Product Name *"}),(0,b.jsx)("input",{type:"text",name:"name",value:t.name,onChange:D,required:!0,placeholder:"e.g., Luxury Shampoo",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category *"}),(0,b.jsx)("select",{name:"category",value:t.category,onChange:D,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:m.map(a=>(0,b.jsx)("option",{value:a.value,children:a.label},a.value))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority (Higher = First)"}),(0,b.jsx)("input",{type:"number",name:"priority",value:t.priority,onChange:D,min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),(0,b.jsxs)("div",{className:"md:col-span-2",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,b.jsx)("textarea",{name:"description",value:t.description,onChange:D,rows:3,placeholder:"Describe the product features, benefits, etc.",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Product Image"}),(0,b.jsx)(l.default,{label:"Upload Product Image *",value:t.image,onChange:a=>u(b=>({...b,image:a})),type:"image"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Pricing"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price per Unit (₹) *"}),(0,b.jsx)("input",{type:"number",name:"price",value:t.price,onChange:D,required:!0,step:"0.01",min:"0",placeholder:"e.g., 10.00",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Minimum Order Quantity"}),(0,b.jsx)("input",{type:"number",name:"minOrderQty",value:t.minOrderQty,onChange:D,min:"1",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Product Details"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[A.includes("sizes")&&(0,b.jsxs)("div",{className:"md:col-span-2",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Available Sizes"}),(0,b.jsxs)("div",{className:"space-y-2",children:[v.map((a,c)=>(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("input",{type:"text",value:a,onChange:a=>{var b;let d;return b=a.target.value,void((d=[...v])[c]=b,w(d))},placeholder:"e.g., 30ml, 50ml, 100ml",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"}),v.length>1&&(0,b.jsx)("button",{type:"button",onClick:()=>w(v.filter((a,b)=>b!==c)),className:"p-2 text-red-500 hover:bg-red-50 rounded-lg",children:(0,b.jsx)(h.X,{className:"w-5 h-5"})})]},c)),(0,b.jsxs)("button",{type:"button",onClick:()=>w([...v,""]),className:"flex items-center gap-1 text-sm text-purple-600 hover:text-purple-700",children:[(0,b.jsx)(g.Plus,{className:"w-4 h-4"}),"Add Size"]})]})]}),A.includes("packing")&&(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Packing"}),(0,b.jsx)("input",{type:"text",name:"packing",value:t.packing,onChange:D,placeholder:"e.g., Box of 100",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),A.includes("contents")&&(0,b.jsxs)("div",{className:"md:col-span-2",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Kit Contents"}),(0,b.jsxs)("div",{className:"space-y-2",children:[x.map((a,c)=>(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("input",{type:"text",value:a,onChange:a=>{var b;let d;return b=a.target.value,void((d=[...x])[c]=b,y(d))},placeholder:"e.g., Toothbrush, Toothpaste (10g)",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"}),x.length>1&&(0,b.jsx)("button",{type:"button",onClick:()=>y(x.filter((a,b)=>b!==c)),className:"p-2 text-red-500 hover:bg-red-50 rounded-lg",children:(0,b.jsx)(h.X,{className:"w-5 h-5"})})]},c)),(0,b.jsxs)("button",{type:"button",onClick:()=>y([...x,""]),className:"flex items-center gap-1 text-sm text-purple-600 hover:text-purple-700",children:[(0,b.jsx)(g.Plus,{className:"w-4 h-4"}),"Add Item"]})]})]}),A.includes("material")&&(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Material"}),(0,b.jsx)("input",{type:"text",name:"material",value:t.material,onChange:D,placeholder:"e.g., Non-woven fabric",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),A.includes("color")&&(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Available Colors"}),(0,b.jsx)("input",{type:"text",name:"color",value:t.color,onChange:D,placeholder:"e.g., White, Brown, Grey",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),A.includes("dimensions")&&(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Dimensions / Sizes"}),(0,b.jsx)("input",{type:"text",name:"dimensions",value:t.dimensions,onChange:D,placeholder:"e.g., Small, Medium, Large or 40x30cm",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]})]})]}),(0,b.jsx)("div",{children:(0,b.jsxs)("label",{className:"flex items-center gap-2",children:[(0,b.jsx)("input",{type:"checkbox",name:"isActive",checked:t.isActive,onChange:D,className:"w-4 h-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500"}),(0,b.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Active (visible in catalogue)"})]})}),(0,b.jsxs)("div",{className:"flex items-center justify-end gap-4 pt-4 border-t border-gray-200",children:[(0,b.jsx)(k.default,{href:"/admin/hotel-catalogue",className:"px-6 py-2 bg-gray-100 text-gray-700 rounded-lg font-medium hover:bg-gray-200 transition-colors",children:"Cancel"}),(0,b.jsx)("button",{type:"submit",disabled:r,className:"px-6 py-2 bg-purple-600 text-white rounded-lg font-medium hover:bg-purple-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:r?"Saving...":"Save Changes"})]})]})]})})}a.s(["default",()=>n])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__debc54be._.js.map