module.exports=[55044,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(97292),e=a.i(210),f=a.i(92258),g=a.i(63519),h=a.i(67900),i=a.i(70106);let j=(0,i.default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);var k=a.i(4334);let l=(0,i.default)("tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]),m=(0,i.default)("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]]),n=(0,i.default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);var o=a.i(96221),p=a.i(81560),q=a.i(15618),r=a.i(41710);let s=(0,i.default)("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]);var t=a.i(92759),u=a.i(33508);let v=(0,i.default)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);var w=a.i(50944),x=a.i(38246);function y({initialLead:a,stages:i}){let y=(0,w.useRouter)(),[z,A]=(0,c.useState)(a),[B,C]=(0,c.useState)(a.stageId),[D,E]=(0,c.useState)(a.value?.toString()||""),[F,G]=(0,c.useState)(!1),[H,I]=(0,c.useState)(!1),[J,K]=(0,c.useState)(!1),[L,M]=(0,c.useState)(!1),[N,O]=(0,c.useState)(""),[P,Q]=(0,c.useState)(!1),[R,S]=(0,c.useState)(a.notes||""),[T,U]=(0,c.useState)(!1),[V,W]=(0,c.useState)(!1),[X,Y]=(0,c.useState)([]),[Z,$]=(0,c.useState)(!1),[_,aa]=(0,c.useState)(""),[ab,ac]=(0,c.useState)(""),[ad,ae]=(0,c.useState)(""),[af,ag]=(0,c.useState)(!1),[ah,ai]=(0,c.useState)(!1),[aj,ak]=(0,c.useState)(a.name),[al,am]=(0,c.useState)(a.email),[an,ao]=(0,c.useState)(a.phone||""),[ap,aq]=(0,c.useState)(a.company||""),[ar,as]=(0,c.useState)(!1);(0,c.useEffect)(()=>{at()},[z.id]);let at=async()=>{try{let a=await fetch(`/api/admin/leads/${z.id}/followups`);if(a.ok){let b=await a.json();Y(b)}}catch(a){console.error("Error fetching follow-ups:",a)}},au=async a=>{C(a),G(!0),I(!1);try{let b=await fetch(`/api/admin/leads/${z.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({stageId:a})});if(b.ok){let a=await b.json();A(a),I(!0),setTimeout(()=>I(!1),2e3)}}catch(a){console.error("Error updating stage:",a)}finally{G(!1)}},av=async()=>{G(!0),I(!1);try{let a=await fetch(`/api/admin/leads/${z.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({value:D?parseFloat(D):null})});if(a.ok){let b=await a.json();A(b),I(!0),setTimeout(()=>I(!1),2e3)}}catch(a){console.error("Error updating value:",a)}finally{G(!1)}},aw=async()=>{K(!0);try{let a=await fetch(`/api/admin/leads/${z.id}`,{method:"DELETE"});if(a.ok)y.push("/admin/funnel/leads");else{let b=await a.json();alert(b.error||"Failed to delete lead")}}catch(a){console.error("Error deleting lead:",a),alert("Failed to delete lead")}finally{K(!1),M(!1)}},ax=async()=>{if(N.trim()){Q(!0);try{let a=await fetch(`/api/admin/leads/${z.id}/notes`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:N})});if(a.ok){let b=await a.json();A(a=>({...a,activities:[b,...a.activities]})),O("")}}catch(a){console.error("Error adding note:",a)}finally{Q(!1)}}},ay=async()=>{W(!0);try{let a=await fetch(`/api/admin/leads/${z.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({notes:R})});if(a.ok){let b=await a.json();A(b),U(!1)}}catch(a){console.error("Error saving notes:",a)}finally{W(!1)}},az=async()=>{if(!aj.trim()||!an.trim())return void alert("Name and Phone are required");as(!0);try{let a=await fetch(`/api/admin/leads/${z.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:aj,email:al||null,phone:an,company:ap||null})});if(a.ok){let b=await a.json();A(b),ai(!1),I(!0),setTimeout(()=>I(!1),2e3)}}catch(a){console.error("Error saving contact:",a)}finally{as(!1)}},aA=async()=>{if(_&&ab){ag(!0);try{let a=new Date(`${_}T${ab}`),b=await fetch(`/api/admin/leads/${z.id}/followups`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({scheduledAt:a.toISOString(),notes:ad||null})});if(b.ok){let a=await b.json();Y(b=>[...b,a].sort((a,b)=>new Date(a.scheduledAt).getTime()-new Date(b.scheduledAt).getTime())),aa(""),ac(""),ae(""),$(!1);let c=await fetch(`/api/admin/leads/${z.id}`);if(c.ok){let a=await c.json();A(a)}}}catch(a){console.error("Error adding follow-up:",a)}finally{ag(!1)}}},aB=async a=>{try{if((await fetch(`/api/admin/leads/${z.id}/followups/${a}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:"COMPLETED"})})).ok){Y(b=>b.map(b=>b.id===a?{...b,status:"COMPLETED",completedAt:new Date().toISOString()}:b));let b=await fetch(`/api/admin/leads/${z.id}`);if(b.ok){let a=await b.json();A(a)}}}catch(a){console.error("Error completing follow-up:",a)}},aC=async a=>{try{(await fetch(`/api/admin/leads/${z.id}/followups/${a}`,{method:"DELETE"})).ok&&Y(b=>b.filter(b=>b.id!==a))}catch(a){console.error("Error deleting follow-up:",a)}},aD=X.filter(a=>"PENDING"===a.status);return(0,b.jsxs)(d.default,{children:[(0,b.jsxs)("div",{className:"max-w-4xl mx-auto space-y-6",children:[(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)(x.default,{href:"/admin/funnel/leads",className:"p-2 text-gray-500 hover:text-gray-700 rounded-lg hover:bg-gray-100",children:(0,b.jsx)(e.ArrowLeft,{className:"w-5 h-5"})}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:z.name}),(0,b.jsx)("span",{className:"px-2.5 py-1 text-xs font-semibold rounded-full",style:{backgroundColor:`${z.stage.color}20`,color:z.stage.color},children:z.stage.name})]}),(0,b.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:["Added on ",new Date(z.createdAt).toLocaleDateString()]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[H&&(0,b.jsxs)("div",{className:"flex items-center gap-2 text-emerald-600 text-sm font-medium",children:[(0,b.jsx)(n,{className:"w-4 h-4"}),"Saved"]}),(0,b.jsxs)("button",{onClick:()=>M(!0),className:"flex items-center gap-2 px-4 py-2 text-sm font-semibold text-red-600 bg-red-50 rounded-xl hover:bg-red-100 transition-colors",children:[(0,b.jsx)(p.Trash2,{className:"w-4 h-4"}),"Delete"]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,b.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,b.jsxs)("div",{className:"bg-white rounded-2xl border border-gray-100 p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("h2",{className:"text-lg font-bold text-gray-900",children:"Contact Information"}),!ah&&(0,b.jsx)("button",{onClick:()=>ai(!0),className:"text-sm font-medium text-purple-600 hover:text-purple-700",children:"Edit"})]}),ah?(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-xs text-gray-500 mb-1 block",children:"Name *"}),(0,b.jsx)("input",{type:"text",value:aj,onChange:a=>ak(a.target.value),placeholder:"Full Name",className:"w-full px-3 py-2.5 border border-gray-200 rounded-xl text-sm focus:ring-2 focus:ring-purple-500 focus:border-transparent outline-none"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-xs text-gray-500 mb-1 block",children:"Email"}),(0,b.jsx)("input",{type:"email",value:al,onChange:a=>am(a.target.value),placeholder:"email@example.com",className:"w-full px-3 py-2.5 border border-gray-200 rounded-xl text-sm focus:ring-2 focus:ring-purple-500 focus:border-transparent outline-none"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-xs text-gray-500 mb-1 block",children:"Phone *"}),(0,b.jsx)("input",{type:"tel",value:an,onChange:a=>ao(a.target.value),placeholder:"+91 XXXXXXXXXX",className:"w-full px-3 py-2.5 border border-gray-200 rounded-xl text-sm focus:ring-2 focus:ring-purple-500 focus:border-transparent outline-none"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-xs text-gray-500 mb-1 block",children:"Company"}),(0,b.jsx)("input",{type:"text",value:ap,onChange:a=>aq(a.target.value),placeholder:"Company Name",className:"w-full px-3 py-2.5 border border-gray-200 rounded-xl text-sm focus:ring-2 focus:ring-purple-500 focus:border-transparent outline-none"})]}),(0,b.jsxs)("div",{className:"flex gap-2 pt-2",children:[(0,b.jsx)("button",{onClick:az,disabled:ar,className:"flex-1 px-4 py-2.5 bg-purple-600 text-white text-sm font-semibold rounded-xl hover:bg-purple-700 disabled:opacity-50 flex items-center justify-center gap-2",children:ar?(0,b.jsx)(o.Loader2,{className:"w-4 h-4 animate-spin"}):"Save Changes"}),(0,b.jsx)("button",{onClick:()=>{ai(!1),ak(z.name),am(z.email),ao(z.phone||""),aq(z.company||"")},className:"px-4 py-2.5 bg-gray-100 text-gray-700 text-sm font-semibold rounded-xl hover:bg-gray-200",children:"Cancel"})]})]}):(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 text-gray-600",children:[(0,b.jsx)("div",{className:"w-8 h-8 rounded-full bg-purple-100 flex items-center justify-center text-purple-600 font-bold text-sm",children:z.name.charAt(0).toUpperCase()}),(0,b.jsx)("span",{className:"text-sm font-medium",children:z.name})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3 text-gray-600",children:[(0,b.jsx)(f.Mail,{className:"w-5 h-5 flex-shrink-0 text-gray-400"}),(0,b.jsx)("span",{className:"text-sm",children:z.email})]}),z.phone&&(0,b.jsxs)("div",{className:"flex items-center gap-3 text-gray-600",children:[(0,b.jsx)(g.Phone,{className:"w-5 h-5 flex-shrink-0 text-gray-400"}),(0,b.jsx)("span",{className:"text-sm",children:z.phone})]}),z.company&&(0,b.jsxs)("div",{className:"flex items-center gap-3 text-gray-600",children:[(0,b.jsx)(h.Building2,{className:"w-5 h-5 flex-shrink-0 text-gray-400"}),(0,b.jsx)("span",{className:"text-sm",children:z.company})]})]})]}),(0,b.jsxs)("div",{className:"bg-white rounded-2xl border border-gray-100 p-6",children:[(0,b.jsx)("h2",{className:"text-lg font-bold text-gray-900 mb-4",children:"Add Note"}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("textarea",{value:N,onChange:a=>O(a.target.value),placeholder:"Write a note about this lead...",className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent outline-none resize-none text-sm",rows:3}),(0,b.jsxs)("button",{onClick:ax,disabled:P||!N.trim(),className:"flex items-center gap-2 px-4 py-2.5 bg-purple-600 text-white text-sm font-semibold rounded-xl hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[P?(0,b.jsx)(o.Loader2,{className:"w-4 h-4 animate-spin"}):(0,b.jsx)(t.Send,{className:"w-4 h-4"}),"Add Note"]})]})]}),(0,b.jsxs)("div",{className:"bg-white rounded-2xl border border-gray-100 p-6",children:[(0,b.jsx)("h2",{className:"text-lg font-bold text-gray-900 mb-4",children:"Activity Timeline"}),(0,b.jsx)("div",{className:"space-y-6",children:0===z.activities.length?(0,b.jsx)("p",{className:"text-sm text-gray-500 text-center py-4",children:"No activity recorded yet"}):z.activities.map(a=>(0,b.jsxs)("div",{className:"flex gap-4",children:[(0,b.jsx)("div",{className:"mt-1",children:(0,b.jsx)("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${"NOTE"===a.type?"bg-purple-50":"STAGE_CHANGE"===a.type?"bg-blue-50":"bg-gray-50"}`,children:(0,b.jsx)(m,{className:`w-4 h-4 ${"NOTE"===a.type?"text-purple-600":"STAGE_CHANGE"===a.type?"text-blue-600":"text-gray-600"}`})})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-900",children:a.type.replace("_"," ")}),(0,b.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:a.content}),(0,b.jsx)("p",{className:"text-xs text-gray-400 mt-2",children:new Date(a.createdAt).toLocaleString()})]})]},a.id))})]})]}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"bg-white rounded-2xl border border-gray-100 p-6",children:[(0,b.jsx)("h2",{className:"text-sm font-bold text-gray-900 uppercase tracking-wider mb-4",children:"Lead Details"}),(0,b.jsxs)("div",{className:"space-y-5",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-xs text-gray-500 mb-2 block",children:"Stage"}),(0,b.jsx)("select",{value:B,onChange:a=>au(a.target.value),disabled:F,className:"w-full px-3 py-2.5 border border-gray-200 rounded-xl text-sm font-medium focus:ring-2 focus:ring-purple-500 focus:border-transparent outline-none disabled:opacity-50",children:i.map(a=>(0,b.jsx)("option",{value:a.id,children:a.name},a.id))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-xs text-gray-500 mb-2 block",children:"Lead Value (â‚¹)"}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsxs)("div",{className:"relative flex-1",children:[(0,b.jsx)(k.IndianRupee,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,b.jsx)("input",{type:"number",value:D,onChange:a=>E(a.target.value),placeholder:"0",className:"w-full pl-9 pr-3 py-2.5 border border-gray-200 rounded-xl text-sm font-medium focus:ring-2 focus:ring-purple-500 focus:border-transparent outline-none"})]}),(0,b.jsx)("button",{onClick:av,disabled:F,className:"px-4 py-2.5 bg-purple-600 text-white text-sm font-semibold rounded-xl hover:bg-purple-700 disabled:opacity-50 flex items-center gap-2",children:F?(0,b.jsx)(o.Loader2,{className:"w-4 h-4 animate-spin"}):"Save"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Source"}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-gray-700",children:[(0,b.jsx)(l,{className:"w-4 h-4 text-gray-400"}),(0,b.jsx)("span",{className:"text-sm font-medium",children:z.source})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Created At"}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-gray-700",children:[(0,b.jsx)(j,{className:"w-4 h-4 text-gray-400"}),(0,b.jsx)("span",{className:"text-sm font-medium",children:new Date(z.createdAt).toLocaleDateString()})]})]})]})]}),(0,b.jsxs)("div",{className:"bg-yellow-50 rounded-2xl border border-yellow-100 p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsx)("h2",{className:"text-sm font-bold text-yellow-900 uppercase tracking-wider",children:"Notes"}),!T&&(0,b.jsx)("button",{onClick:()=>U(!0),className:"text-xs font-medium text-yellow-700 hover:text-yellow-800",children:"Edit"})]}),T?(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("textarea",{value:R,onChange:a=>S(a.target.value),className:"w-full px-3 py-2 border border-yellow-200 rounded-lg focus:ring-2 focus:ring-yellow-400 focus:border-transparent outline-none resize-none text-sm bg-white",rows:4,placeholder:"Add notes about this lead..."}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("button",{onClick:ay,disabled:V,className:"flex-1 px-3 py-2 bg-yellow-600 text-white text-sm font-semibold rounded-lg hover:bg-yellow-700 disabled:opacity-50 flex items-center justify-center gap-2",children:V?(0,b.jsx)(o.Loader2,{className:"w-4 h-4 animate-spin"}):"Save"}),(0,b.jsx)("button",{onClick:()=>{U(!1),S(z.notes||"")},className:"px-3 py-2 bg-white text-yellow-700 text-sm font-semibold rounded-lg hover:bg-yellow-100 border border-yellow-200",children:"Cancel"})]})]}):(0,b.jsx)("p",{className:"text-sm text-yellow-800 whitespace-pre-wrap",children:R||(0,b.jsx)("span",{className:"text-yellow-600 italic",children:"No notes yet. Click Edit to add."})})]}),(0,b.jsxs)("div",{className:"bg-white rounded-2xl border border-gray-100 p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsxs)("h2",{className:"text-sm font-bold text-gray-900 uppercase tracking-wider flex items-center gap-2",children:[(0,b.jsx)(s,{className:"w-4 h-4 text-purple-600"}),"Follow-ups"]}),!Z&&(0,b.jsxs)("button",{onClick:()=>$(!0),className:"flex items-center gap-1 text-xs font-medium text-purple-600 hover:text-purple-700",children:[(0,b.jsx)(q.Plus,{className:"w-4 h-4"}),"Schedule"]})]}),Z&&(0,b.jsxs)("div",{className:"mb-4 p-4 bg-purple-50 rounded-xl space-y-3",children:[(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-xs text-gray-500 mb-1 block",children:"Date"}),(0,b.jsx)("input",{type:"date",value:_,onChange:a=>aa(a.target.value),min:new Date().toISOString().split("T")[0],className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-purple-500 focus:border-transparent outline-none"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-xs text-gray-500 mb-1 block",children:"Time"}),(0,b.jsx)("input",{type:"time",value:ab,onChange:a=>ac(a.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-purple-500 focus:border-transparent outline-none"})]})]}),(0,b.jsx)("textarea",{value:ad,onChange:a=>ae(a.target.value),placeholder:"What to discuss...",className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-purple-500 focus:border-transparent outline-none resize-none",rows:2}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("button",{onClick:aA,disabled:af||!_||!ab,className:"flex-1 px-3 py-2 bg-purple-600 text-white text-sm font-semibold rounded-lg hover:bg-purple-700 disabled:opacity-50 flex items-center justify-center gap-2",children:af?(0,b.jsx)(o.Loader2,{className:"w-4 h-4 animate-spin"}):"Schedule"}),(0,b.jsx)("button",{onClick:()=>{$(!1),aa(""),ac(""),ae("")},className:"px-3 py-2 bg-white text-gray-700 text-sm font-semibold rounded-lg hover:bg-gray-100 border border-gray-200",children:(0,b.jsx)(u.X,{className:"w-4 h-4"})})]})]}),0===aD.length?(0,b.jsx)("p",{className:"text-sm text-gray-500 text-center py-4",children:"No scheduled follow-ups"}):(0,b.jsx)("div",{className:"space-y-3",children:aD.map(a=>{let c=new Date(a.scheduledAt)<new Date;return(0,b.jsxs)("div",{className:`p-3 rounded-xl border ${c?"bg-red-50 border-red-100":"bg-gray-50 border-gray-100"}`,children:[(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(r.Clock,{className:`w-4 h-4 ${c?"text-red-500":"text-purple-500"}`}),(0,b.jsx)("span",{className:`text-sm font-medium ${c?"text-red-700":"text-gray-900"}`,children:new Date(a.scheduledAt).toLocaleString("en-IN",{dateStyle:"medium",timeStyle:"short"})}),c&&(0,b.jsx)("span",{className:"text-xs px-1.5 py-0.5 bg-red-100 text-red-600 rounded font-medium",children:"Overdue"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)("button",{onClick:()=>aB(a.id),className:"p-1.5 text-emerald-600 hover:bg-emerald-100 rounded-lg transition-colors",title:"Mark complete",children:(0,b.jsx)(v,{className:"w-4 h-4"})}),(0,b.jsx)("button",{onClick:()=>aC(a.id),className:"p-1.5 text-red-500 hover:bg-red-100 rounded-lg transition-colors",title:"Delete",children:(0,b.jsx)(u.X,{className:"w-4 h-4"})})]})]}),a.notes&&(0,b.jsx)("p",{className:"text-xs text-gray-600 mt-2 pl-6",children:a.notes})]},a.id)})})]})]})]})]}),L&&(0,b.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>M(!1)}),(0,b.jsxs)("div",{className:"relative bg-white rounded-2xl p-6 max-w-md w-full mx-4 shadow-2xl",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,b.jsx)("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center",children:(0,b.jsx)(p.Trash2,{className:"w-6 h-6 text-red-600"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-gray-900",children:"Delete Lead"}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"This action cannot be undone"})]})]}),(0,b.jsxs)("p",{className:"text-sm text-gray-600 mb-6",children:["Are you sure you want to delete ",(0,b.jsx)("strong",{children:z.name}),"? All associated activities will also be deleted."]}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("button",{onClick:()=>M(!1),disabled:J,className:"flex-1 px-4 py-2.5 text-sm font-semibold text-gray-700 bg-gray-100 rounded-xl hover:bg-gray-200 disabled:opacity-50 transition-colors",children:"Cancel"}),(0,b.jsx)("button",{onClick:aw,disabled:J,className:"flex-1 px-4 py-2.5 text-sm font-semibold text-white bg-red-600 rounded-xl hover:bg-red-700 disabled:opacity-50 flex items-center justify-center gap-2 transition-colors",children:J?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(o.Loader2,{className:"w-4 h-4 animate-spin"}),"Deleting..."]}):"Delete Lead"})]})]})]})]})}a.s(["default",()=>y],55044)}];

//# sourceMappingURL=src_app_admin_funnel_leads_%5Bid%5D_LeadDetailClient_tsx_331aa0c4._.js.map