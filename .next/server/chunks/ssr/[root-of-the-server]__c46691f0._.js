module.exports=[23862,a=>a.a(async(b,c)=>{try{let b=await a.y("pg-587764f78a6c7a9c");a.n(b),c()}catch(a){c(a)}},!0),63021,(a,b,c)=>{b.exports=a.x("@prisma/client-2c3a283f134fdcb6",()=>require("@prisma/client-2c3a283f134fdcb6"))},93695,(a,b,c)=>{b.exports=a.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},50645,a=>{a.n(a.i(27572))},43619,a=>{a.n(a.i(79962))},13718,a=>{a.n(a.i(85523))},18198,a=>{a.n(a.i(45518))},62212,a=>{a.n(a.i(66114))},37691,a=>{"use strict";a.s(["default",()=>b]);let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call the default export of [project]/src/components/admin/AdminLayout.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/components/admin/AdminLayout.tsx <module evaluation>","default")},7453,a=>{"use strict";a.s(["default",()=>b]);let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call the default export of [project]/src/components/admin/AdminLayout.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/components/admin/AdminLayout.tsx","default")},97541,a=>{"use strict";a.i(37691);var b=a.i(7453);a.n(b)},83627,a=>{"use strict";let b=(0,a.i(1269).default)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);a.s(["Users",()=>b],83627)},84674,a=>{"use strict";let b=(0,a.i(1269).default)("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);a.s(["FileText",()=>b],84674)},36361,a=>{"use strict";let b=(0,a.i(1269).default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);a.s(["TrendingUp",()=>b],36361)},82604,a=>{"use strict";let b=(0,a.i(1269).default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);a.s(["CheckCircle",()=>b],82604)},93830,a=>{"use strict";let b=(0,a.i(1269).default)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);a.s(["XCircle",()=>b],93830)},84254,a=>{"use strict";let b=(0,a.i(1269).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);a.s(["Plus",()=>b],84254)},12336,a=>{"use strict";let b=(0,a.i(1269).default)("message-circle",[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]]);a.s(["MessageCircle",()=>b],12336)},56603,a=>{"use strict";let b=(0,a.i(1269).default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);a.s(["Clock",()=>b],56603)},86823,a=>{"use strict";let b=(0,a.i(1269).default)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);a.s(["Send",()=>b],86823)},16457,a=>a.a(async(b,c)=>{try{var d=a.i(7997),e=a.i(97541),f=a.i(12336),g=a.i(84254),h=a.i(86823),i=a.i(84674),j=a.i(83627),k=a.i(36361),l=a.i(56603),m=a.i(82604),n=a.i(93830),o=a.i(95936),p=a.i(66518),q=b([p]);async function r(){try{let[a,b,c]=await Promise.all([p.prisma.whatsAppTemplate.count(),p.prisma.whatsAppCampaign.count(),p.prisma.whatsAppMessage.count()]),d=await p.prisma.whatsAppMessage.count({where:{status:"DELIVERED"}});return{templates:a,campaigns:b,messagesSent:c,deliveryRate:c>0?(d/c*100).toFixed(1):"0"}}catch(a){return console.error("Error fetching WhatsApp stats:",a),{templates:0,campaigns:0,messagesSent:0,deliveryRate:"0"}}}async function s(){try{return await p.prisma.whatsAppCampaign.findMany({take:5,orderBy:{createdAt:"desc"}})}catch(a){return console.error("Error fetching campaigns:",a),[]}}async function t(){try{return await p.prisma.whatsAppTemplate.findMany({take:4,orderBy:{createdAt:"desc"}})}catch(a){return console.error("Error fetching templates:",a),[]}}[p]=q.then?(await q)():q;let v={DRAFT:"bg-gray-100 text-gray-700",SCHEDULED:"bg-blue-100 text-blue-700",RUNNING:"bg-amber-100 text-amber-700",COMPLETED:"bg-emerald-100 text-emerald-700"};async function u(){let[a,b,c]=await Promise.all([r(),s(),t()]),p=!!(process.env.WHATSAPP_API_TOKEN&&process.env.WHATSAPP_PHONE_NUMBER_ID);return(0,d.jsx)(e.default,{children:(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"WhatsApp Marketing"}),(0,d.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Manage campaigns, templates, and reach your customers"})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3",children:[(0,d.jsxs)(o.default,{href:"/admin/whatsapp/templates",className:"flex items-center gap-2 px-3 sm:px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-200 rounded-xl hover:bg-gray-50",children:[(0,d.jsx)(i.FileText,{className:"w-4 h-4"}),(0,d.jsx)("span",{className:"hidden sm:inline",children:"Templates"})]}),(0,d.jsxs)(o.default,{href:"/admin/whatsapp/campaigns/new",className:"flex items-center gap-2 px-3 sm:px-4 py-2 text-sm font-semibold text-white bg-green-600 rounded-xl hover:bg-green-700",children:[(0,d.jsx)(g.Plus,{className:"w-4 h-4"}),(0,d.jsx)("span",{className:"hidden sm:inline",children:"New Campaign"}),(0,d.jsx)("span",{className:"sm:hidden",children:"New"})]})]})]}),!p&&(0,d.jsxs)("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4 flex items-start gap-3",children:[(0,d.jsx)(f.MessageCircle,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:"font-semibold text-amber-800",children:"WhatsApp API not configured"}),(0,d.jsxs)("p",{className:"text-sm text-amber-700 mt-1",children:["To send messages, please add your WhatsApp Business API credentials to the ",(0,d.jsx)("code",{className:"bg-amber-100 px-1 rounded",children:".env"})," file."]})]})]}),(0,d.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 sm:gap-4",children:[(0,d.jsxs)("div",{className:"bg-white rounded-xl p-4 border border-gray-100",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 text-gray-500 mb-2",children:[(0,d.jsx)(i.FileText,{className:"w-4 h-4"}),(0,d.jsx)("span",{className:"text-xs font-medium uppercase",children:"Templates"})]}),(0,d.jsx)("p",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:a.templates})]}),(0,d.jsxs)("div",{className:"bg-white rounded-xl p-4 border border-gray-100",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 text-gray-500 mb-2",children:[(0,d.jsx)(j.Users,{className:"w-4 h-4"}),(0,d.jsx)("span",{className:"text-xs font-medium uppercase",children:"Campaigns"})]}),(0,d.jsx)("p",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:a.campaigns})]}),(0,d.jsxs)("div",{className:"bg-white rounded-xl p-4 border border-gray-100",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 text-gray-500 mb-2",children:[(0,d.jsx)(h.Send,{className:"w-4 h-4"}),(0,d.jsx)("span",{className:"text-xs font-medium uppercase",children:"Messages Sent"})]}),(0,d.jsx)("p",{className:"text-xl sm:text-2xl font-bold text-green-600",children:a.messagesSent})]}),(0,d.jsxs)("div",{className:"bg-white rounded-xl p-4 border border-gray-100",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 text-gray-500 mb-2",children:[(0,d.jsx)(k.TrendingUp,{className:"w-4 h-4"}),(0,d.jsx)("span",{className:"text-xs font-medium uppercase",children:"Delivery Rate"})]}),(0,d.jsxs)("p",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:[a.deliveryRate,"%"]})]})]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[(0,d.jsxs)(o.default,{href:"/admin/whatsapp/quick-send",className:"bg-gradient-to-br from-green-500 to-green-600 rounded-2xl p-6 text-white hover:from-green-600 hover:to-green-700 transition-all",children:[(0,d.jsx)(h.Send,{className:"w-8 h-8 mb-3"}),(0,d.jsx)("h3",{className:"font-bold text-lg",children:"Quick Send"}),(0,d.jsx)("p",{className:"text-green-100 text-sm mt-1",children:"Send a single message to a customer"})]}),(0,d.jsxs)(o.default,{href:"/admin/whatsapp/campaigns/new",className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-2xl p-6 text-white hover:from-purple-600 hover:to-purple-700 transition-all",children:[(0,d.jsx)(j.Users,{className:"w-8 h-8 mb-3"}),(0,d.jsx)("h3",{className:"font-bold text-lg",children:"Bulk Campaign"}),(0,d.jsx)("p",{className:"text-purple-100 text-sm mt-1",children:"Reach multiple customers at once"})]}),(0,d.jsxs)(o.default,{href:"/admin/whatsapp/templates/new",className:"bg-gradient-to-br from-gray-700 to-gray-800 rounded-2xl p-6 text-white hover:from-gray-800 hover:to-gray-900 transition-all",children:[(0,d.jsx)(i.FileText,{className:"w-8 h-8 mb-3"}),(0,d.jsx)("h3",{className:"font-bold text-lg",children:"New Template"}),(0,d.jsx)("p",{className:"text-gray-300 text-sm mt-1",children:"Create a reusable message template"})]})]}),(0,d.jsxs)("div",{className:"bg-white rounded-2xl border border-gray-100 overflow-hidden",children:[(0,d.jsxs)("div",{className:"px-6 py-4 border-b border-gray-100 flex items-center justify-between",children:[(0,d.jsx)("h2",{className:"font-bold text-gray-900",children:"Recent Campaigns"}),(0,d.jsx)(o.default,{href:"/admin/whatsapp/campaigns",className:"text-sm text-purple-600 font-medium hover:text-purple-700",children:"View All"})]}),(0,d.jsx)("div",{className:"divide-y divide-gray-100",children:0===b.length?(0,d.jsxs)("div",{className:"p-8 text-center",children:[(0,d.jsx)(f.MessageCircle,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),(0,d.jsx)("p",{className:"text-gray-900 font-medium",children:"No campaigns yet"}),(0,d.jsx)("p",{className:"text-gray-500 text-sm mt-1",children:"Create your first WhatsApp campaign"})]}):b.map(a=>(0,d.jsxs)(o.default,{href:`/admin/whatsapp/campaigns/${a.id}`,className:"flex items-center justify-between p-4 hover:bg-gray-50",children:[(0,d.jsxs)("div",{className:"flex items-center gap-4",children:[(0,d.jsx)("div",{className:"w-10 h-10 bg-green-100 rounded-xl flex items-center justify-center",children:(0,d.jsx)(f.MessageCircle,{className:"w-5 h-5 text-green-600"})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"font-medium text-gray-900",children:a.name}),(0,d.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,d.jsx)("span",{className:`px-2 py-0.5 text-xs font-medium rounded-full ${v[a.status]||v.DRAFT}`,children:a.status}),(0,d.jsxs)("span",{className:"text-xs text-gray-500",children:[a.sentCount," sent"]})]})]})]}),(0,d.jsx)("div",{className:"text-right",children:(0,d.jsxs)("div",{className:"flex items-center gap-1 text-sm text-gray-500",children:[(0,d.jsx)(l.Clock,{className:"w-4 h-4"}),new Date(a.createdAt).toLocaleDateString("en-IN",{day:"numeric",month:"short"})]})})]},a.id))})]}),(0,d.jsxs)("div",{className:"bg-white rounded-2xl border border-gray-100 overflow-hidden",children:[(0,d.jsxs)("div",{className:"px-6 py-4 border-b border-gray-100 flex items-center justify-between",children:[(0,d.jsx)("h2",{className:"font-bold text-gray-900",children:"Message Templates"}),(0,d.jsx)(o.default,{href:"/admin/whatsapp/templates",className:"text-sm text-purple-600 font-medium hover:text-purple-700",children:"Manage Templates"})]}),(0,d.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 p-4",children:0===c.length?(0,d.jsxs)("div",{className:"col-span-full p-8 text-center",children:[(0,d.jsx)(i.FileText,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),(0,d.jsx)("p",{className:"text-gray-900 font-medium",children:"No templates yet"}),(0,d.jsx)("p",{className:"text-gray-500 text-sm mt-1",children:"Create message templates for quick sending"})]}):c.map(a=>(0,d.jsxs)("div",{className:"bg-gray-50 rounded-xl p-4",children:[(0,d.jsxs)("div",{className:"flex items-start justify-between gap-2 mb-2",children:[(0,d.jsx)("h3",{className:"font-medium text-gray-900",children:a.name}),a.approved?(0,d.jsx)(m.CheckCircle,{className:"w-4 h-4 text-green-500 flex-shrink-0"}):(0,d.jsx)(n.XCircle,{className:"w-4 h-4 text-gray-400 flex-shrink-0"})]}),(0,d.jsx)("p",{className:"text-sm text-gray-600 line-clamp-2",children:a.content})]},a.id))})]})]})})}a.s(["default",()=>u,"dynamic",0,"force-dynamic"]),c()}catch(a){c(a)}},!1)];

//# sourceMappingURL=%5Broot-of-the-server%5D__c46691f0._.js.map